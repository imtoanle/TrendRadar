# yaml-language-server: $schema=https://json.schemastore.org/github-issue-forms.json

name: ğŸ› Bug Report
description: Program is not running properly or encountering errors
title: "[Bug] "
labels: ["bug"]
assignees:
  - sansan0
body:
  - type: markdown
    attributes:
      value: |
        **Detailed and clear problem descriptions help project authors understand and resolve your issues more quickly.** It is highly recommended to upload screenshots, as images and text make problems easier to understand and locate.

        ---

        ### ğŸ“‹ Before submitting an issue, please check the following

        #### 1ï¸âƒ£ **Check documentation first** ğŸ“–
        Most common problems are explained in detail in the documentation. It is recommended to check the relevant sections first:
        - [ğŸ“ Configuration tutorial](https://github.com/sansan0/TrendRadar#-å¿«é€Ÿå¼€å§‹)
        - [â“ FAQ](https://github.com/sansan0/TrendRadar#é—®é¢˜ç­”ç–‘ä¸1å…ƒç‚¹èµ)
        - [ğŸ³ Docker deployment](https://github.com/sansan0/TrendRadar#-docker-éƒ¨ç½²)

        #### 2ï¸âƒ£ **Notes for testing push functionality** âš ï¸
        When testing message push, please ensure the following configurations are correct:

        **Required configuration items:**
        - âœ… `report.mode` is set to `daily` or `current` (do not use `incremental`, this mode only pushes when there is new content)
        - âœ… `notification.push_window.enabled` is set to `false` (disable push time window control)
        - âœ… `notification.enable_notification` is set to `true` (ensure notification function is enabled)

        **Explanation:**
        - Push time window control (`push_window`) is an optional feature. If enabled, it will limit the push time range
        - It is recommended to disable this feature during testing to avoid missing messages due to being outside the push time window

        #### 3ï¸âƒ£ **Check configuration details** ğŸ”
        Some issues may be caused by configuration details. It is recommended to check:
        - Whether the indentation format of the configuration file is correct (YAML format is strict and must use spaces, not tabs)
        - Whether the webhook URL is completely copied (be careful not to have extra or missing characters)
        - Whether environment variables are set correctly
        - Whether file paths are correct

        #### 4ï¸âƒ£ **Suggestions when encountering difficulties** ğŸ’¡
        - If you still have no progress after trying for more than 30 minutes, you can consider changing your approach
        - It is recommended to re-read the relevant documentation sections from the beginning
        - Or try other deployment methods (such as switching from Docker to GitHub Actions)

        #### 5ï¸âƒ£ **Provide complete information based on deployment method** ğŸ“¦

        **If using GitHub Actions deployment:**
        1. **Must provide** Actions workflow link (e.g.: `https://github.com/your-username/TrendRadar/actions/workflows/crawler.yml`)
        2. **Steps to view execution logs:**
           - Open your repository page
           - Click the **Actions** tab at the top
           - Click the **Crawler** workflow on the left
           - Click the most recent run record
           - Click **Run crawler** to view detailed logs
           - **Screenshot the complete log content** (especially the error parts)
        3. Provide `config.yaml` configuration content (hide sensitive information)

        **If using Docker deployment:**
        1. Provide project directory structure screenshot (run `ls -la` or open file manager)
        2. Provide Docker container logs (run `docker logs container_name`)
        3. Provide container status (run `docker ps -a`)
        4. Provide `.env` file content (hide sensitive information)

        **If running locally:**
        1. Provide complete error log screenshots
        2. Provide `config.yaml` configuration content
        3. Provide Python version (run `python --version`)

  - type: dropdown
    id: bug-category
    attributes:
      label: ğŸ·ï¸ What problem did you encounter
      options:
        - Data retrieval issues (unable to fetch news, request failures, etc.)
        - Keyword filtering issues (keywords not working, matching abnormalities, etc.)
        - Notification push issues (not receiving messages, push failures, etc.)
        - Configuration issues (configuration file errors, parameters not taking effect, etc.)
        - Deployment and operation issues (Docker, GitHub Actions, etc.)
        - Performance issues (slow running, lagging, etc.)
        - Other issues
    validations:
      required: true

  - type: dropdown
    id: environment
    attributes:
      label: ğŸ–¥ï¸ Operating environment
      options:
        - Local run (running directly on computer)
        - Docker container run
        - GitHub Actions automatic run
        - Other methods
    validations:
      required: true

  - type: textarea
    id: bug-description
    attributes:
      label: ğŸ“ Detailed problem description
      description: Please describe the problem in detail (screenshots are recommended)
      placeholder: |
        Please clearly describe:
        - What specific problem occurred
        - The situation when the problem appeared
        - What function was affected by this problem

        ğŸ’¡ Tip: Uploading problem screenshots can provide more information.
    validations:
      required: true

  - type: dropdown
    id: system-info
    attributes:
      label: ğŸ’» System information
      description: Your computer system
      options:
        - Windows 10
        - Windows 11
        - macOS
        - Ubuntu/Linux
        - Other system
        - Not sure
    validations:
      required: false

  - type: textarea
    id: reproduction-steps
    attributes:
      label: ğŸ”„ How to reproduce this problem
      description: How to make this problem happen again? (Optional but recommended)
      placeholder: |
        Please describe step by step (screenshots for each step are recommended):
        1. I clicked...
        2. Then I set...
        3. Then appeared...

        ğŸ’¡ Screenshots of the operation process are especially useful!
    validations:
      required: false

  - type: textarea
    id: expected-behavior
    attributes:
      label: âœ… Expected normal behavior
      description: What should be the normal situation? (Optional)
      placeholder: |
        Describe the normal result you expect to see...
        Reference images would be even better!
    validations:
      required: false

  - type: textarea
    id: error-logs
    attributes:
      label: ğŸ“‹ Error messages
      description: Error messages or logs displayed by the program (if any)
      placeholder: |
        If the program shows error messages, please copy them completely here:

        ```
        Error message content...
        ```

    validations:
      required: false

  - type: textarea
    id: config-info
    attributes:
      label: âš™ï¸ Related configuration
      description: Configuration content related to the problem (please hide sensitive information such as webhook URLs)
      placeholder: |
        Related configuration content (remember to hide sensitive information):

        ```yaml
        notification:
          enable_notification: true
          webhooks:
            feishu_url: "***HIDDEN***"
        ```

  - type: textarea
    id: screenshots
    attributes:
      label: ğŸ“· Screenshot supplements
      description: Upload relevant screenshots (highly recommended!)
      placeholder: |
        Please drag screenshots here, preferably including:
        - Error interface screenshots
        - Configuration settings screenshots
        - Operation step screenshots

        ğŸ’¡ Screenshots are the most intuitive way to describe problems!

  - type: textarea
    id: additional-context
    attributes:
      label: ğŸ“ Additional information
      description: Other potentially useful information
      placeholder: |
        - Special network environment conditions
        - Whether it worked normally before
        - Any recent changes to settings
        - Other information you think might be relevant
